<div class="container">
  <div class="d-flex flex-column align-items-center py-2">
      <h2 style="color: #2E5A36; font-weight: 700; font-size: 26pt;">Reviews</h2>
      <h3 style="color: #2E5A36; font-weight: 700; font-size: 18pt; text-align: center;"><%= @recipe.name %></h3>
      <div class="container" style="height: 150px; width: 83vw;">
        <%= image_tag(@recipe.image_url, style: "object-fit: cover; height: 100%; width: 285px;") %>
      </div>
  </div>
  <div class="container">
    <%= simple_form_for [@recipe, @review] do |f| %>
      <%= f.input :content, label: "Leave a review" %>
      <%= f.input :rating, label: "Rating / 5", collection: (1..5).to_a %>
      <%= f.submit "Submit" %>
    <% end %>
  </div>
  <div class="container mt-5 meal-plan-show">
    <% @recipe.reviews.sort_by(&:created_at).reverse.each do |review| %>
      <div class="card-product flex-column p-2" id="review-<%= review.id %>" style="height: auto; flex-grow: 1; align-items: start;">
        <div class="container d-flex flex-column">
          <h2><%= User.find(review.user_id).first_name %>
            <% 5.times do |x| %>
              <% if x < @recipe.rating %>
                <li class="fa fa-star checked"></li>
              <% else %>
                <li class="fa fa-star"></li>
              <% end %>
            <% end %>
          </h2>
        </div>
        <div class="container p-2">
          <p><%= review.content %></p>
        </div>
      </div>
    <% end %>
  </div>
</div>
